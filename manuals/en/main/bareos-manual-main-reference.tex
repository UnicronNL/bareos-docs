%%
%%
%%  The following characters must be preceded by a backslash
%%    to be entered as printable characters:
%%
%%   # $ % & ~ _ ^ \ { }
%%
\listfiles
\documentclass[10pt,a4paper]{book}
\PassOptionsToPackage{obeyspaces}{url} %white space in url path
\topmargin -0.5in
\oddsidemargin 0.0in
\evensidemargin 0.0in
\textheight 10in
\textwidth 6.5in

\usepackage{float}
\usepackage{graphicx}
\usepackage{longtable}
\usepackage{makeidx}
\usepackage{index}
\usepackage{hyperref}
% \usepackage[linkcolor=black,colorlinks=true]{hyperref}
\usepackage{url}
\usepackage{varioref}
\usepackage{moreverb}
\renewcommand\verbatimtabsize{4\relax}
\usepackage{ifthen}
\usepackage{xifthen}
\usepackage[usenames,dvipsnames]{color} % required by framed
% framed does not work with htlatex, therefore replaced by listings
%\usepackage{framed} % framed, oframed, shaded, shaded*, snugshade, snugshade*, leftbar, titled-frame
\usepackage{listings}
\usepackage{caption} % captionof
% mdframed does not work on openSUSE 12.2
%\usepackage{mdframed}

% check for undefined references (refcheck), 
% but don't write them as marginal notes, 
% instead only write remarks to the log file
\usepackage[norefs,nocites]{refcheck}

\usepackage{bareos}


\makeindex
\newindex{general}{general.idx}{general.ind}{General Index}
\newindex{dir}{director.idx}{director.ind}{Director Index}
\newindex{fd}{fd.idx}{fd.ind}{File Daemon Index}
\newindex{sd}{sd.idx}{sd.ind}{Storage Daemon Index}
\newindex{console}{console.idx}{console.ind}{Console Index}
\newindex{monitor}{monitor.idx}{monitor.ind}{Monitor Index}

\begin{document}

\sloppy
\parindent 0pt

\input{version}
\def\version{\bareosBranch{} (\today)}
\input{coverpage}

\clearpage
\pagenumbering{roman}
\tableofcontents
\clearpage

\pagestyle{myheadings}
\markboth{Bareos Version \version}{Bareos Version \version}
\pagenumbering{arabic}


\part{Introduction and Tuturial}

\include{general}
\include{state}


\chapter{Installing Bareos}
\label{InstallChapter}
\index[general]{Bareos!Installing}
\index[general]{Installing Bareos}

  \input{install}      % install


\chapter{Getting Started with Bareos}
\label{QuickStartChapter}
\index[general]{Getting Started with Bareos}

    \input{quickstart}   % install



\include{tutorial}

\include{critical}     % install

\part{Configuration Files}

\chapter{Customizing the Configuration Files}
\label{ConfigureChapter}
\index[general]{Files!Customizing the Configuration}
\index[general]{Customizing the Configuration Files}

    \input{configure}    % install
    \include{dirdconf}     % install
    \include{filedconf}    % install
    \include{storedconf}   % install
    \include{messagesres}  % install
    \include{consoleconf}  % install
    \include{monitorconf}  % install


\part{Tasks and Concepts}

\include{bconsole}

\include{restore}

\chapter{Volume Management}
  \include{disk}
  \include{recycling}

\include{pools}

%tape
\include{autochangers}
%tape
\include{tape-without-autochanger}

\include{spooling}
\include{migration}

\chapter{Accurate Mode}
    \label{accuratemode}
    \TODO{to be written}

\include{basejob}

\include{plugins}

%tape
\include{win32}

\chapter{Network setup}
    \subsection{Passive Clients}
        \label{PassiveClient}
        \TODO{to be written}

\include{tls}
\include{dataencryption}

\include{catmaintenance}  %catalog

%tapetesting file is missing (also at bacula.org)
%\include{tapetesting}   % install
\include{security}        % install


\appendix
\part{Appendix}

\input{requirements}

\chapter{Operating Systems}
\label{SupportedOSes}
\index[general]{Systems!Supported Operating}
\index[general]{Supported Operating Systems}

    \input{supportedoses}

% outdated information
%\include{supporteddrives}
%\include{supportedchangers}

%\chapter{Compile Bareos from Source}
% TODO: rework this chapter later. Most of the stuff can be removed,
% however the description of the configure flags is usefull.  But is there a better place to document it?
%\include{compile}
%\include{mysql}           % catalog
%\include{postgresql}      % catalog
%\include{sqlite}          % catalog

\include{programs}

\include{bootstrap}

\include{verify}

\include{backward-compability}

\chapter{Howtos}
\input{howto}


\include{rescue}

\chapter{Troubleshooting}
\input{troubleshooting}

\chapter{Bareos Copyright, Trademark, and Licenses}
\label{LicenseChapter}
\index[general]{Licenses!Bareos Copyright Trademark}
\index[general]{Bareos Copyright, Trademark, and Licenses}

    \input{license}

    %\include{fdl}
\pagebreak
\section{GNU Free Documentation License}
    \label{fdl}
    \verbatiminput{fdl.txt}

    %\include{agpl}
\pagebreak
\section{GNU Affero Gerneral Public License}
    \label{agpl}
    \verbatiminput{agpl.txt}

    %\include{lesser}
\pagebreak
\section{GNU Lesser Gerneral Public License}
    \label{lgpl}
    \verbatiminput{lgpl.txt}

% pull in the index
%\clearpage
\part{Index}
\printindex[general]
\printindex[dir]
\printindex[sd]
\printindex[fd]
\printindex[console]
\printindex[monitor]


\end{document}
